<!DOCTYPE html>
<html>
    
<!--
Copyright (c) 2018 Rafael Sánchez
This file is part of pre.di.c
pre.di.c, a preamp and digital crossover
Copyright (C) 2018 Roberto Ripio
pre.di.c is based on FIRtro https://github.com/AudioHumLab/FIRtro
Copyright (c) 2006-2011 Roberto Ripio
Copyright (c) 2011-2016 Alberto Miguélez
Copyright (c) 2016-2018 Rafael Sánchez
pre.di.c is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
pre.di.c is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with pre.di.c.  If not, see https://www.gnu.org/licenses/.
-->
    
<head>

    <title>pre.di.c</title>

    <!-- responsive -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- web-app behavoir (full screen when iconize at init screen on smartphones -->
    <!-- some Androids: -->
    <meta name="mobile-web-app-capable" content="yes">
    <!-- iOS:  https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html -->
    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta charset="utf-8">

    <!-- The javascript functions used when an event occurs on this page body's -->
    <script src="js/functions.js"></script>

    <!-- Styles, WARNING do not use comments inside this tag -->
    <style>

        body    { color:white;
                  background-color: rgb(38, 38, 38);
                  font-family: Verdana, Helvetica, Arial;
                  font-weight:bold; }

        button  { background-color: rgb(100, 100, 100);
                  color: white;
                  font-weight:bold;
                  font-size:0.95em;
                  border-radius: 5px/5px;
                  border:2px solid rgb(120,120,120); }

        table   { width: 100%; }
                  
        th, td  { padding: 5px;
                  text-align: center;
                  border: 1px solid gray;
                  font-size:1.0em;
                  width: 50% }

        td#main_lside       { width:  95%; text-align: center; border: 1px solid white; border-radius: 10px/10px; }

        td#main_rside       { width:   5%; text-align: center; border: none; }

        td#OnOff            { width:   5%; text-align: center; border: none; }

        td#levelInfo        { width:   5%; text-align: center; border: 1px solid white; border-radius: 10px/10px; }

        td#LoudnessInfo     { border: 1px solid grey; border-radius: 10px/10px; width: 7%; font-size:0.6em;}
        td#MonoInfo         { border: 1px solid grey; border-radius: 10px/10px; width: 7%; font-size:0.6em;}

        td#input            { width:  85%; text-align: right;  border: none;}
        
        td#treble           { border: 1px solid grey; border-radius: 10px/10px; }
        td#balance          { border: 1px solid grey; border-radius: 10px/10px; }
        td#bass             { border: 1px solid grey; border-radius: 10px/10px; }
        td#mono_loud        { border: 1px solid grey; border-radius: 10px/10px; }
        
        table#eq_table      { border: 1px solid grey; border-radius: 10px/10px; }
        td#xo               { border: none; width: 33%; }
        td#drc              { border: none; width: 33%; }
        td#peq              { border: none; width: 33%; color:grey; }
        
        table#player_info   { text-align: left; }
        td#time             { border: 1px solid grey; border-radius: 10px/10px; width: 7%; font-size:0.6em;}
        td#bitrate          { border: 1px solid grey; border-radius: 10px/10px; width: 5%; font-size:0.6em;}
        td#artist           { border: 1px solid grey; border-radius: 10px/10px; }
        td#album            { border: 1px solid grey; border-radius: 10px/10px; }
        td#title            { border: 1px solid grey; border-radius: 10px/10px; }

        select  { font-size:1.0em;
                  font-weight:bold;
                  color:white;
                  background-color: rgb(25, 25, 25); }

        .buttons_table      { width: 100%; border-style: none; }
        
        .button_cell        { width: 33%; min-width: 33%; border-style: none; }
                
        .macro_buttons     { width: 100%;
                            font-size:0.80em;
                            box-shadow: 0 5px 10px 0 rgba(200,200,200,0.3), 0 3px 10px 0 rgba(0,0,0,0.1);
                            border:2px solid rgb(120,120,120);
                            border-radius: 10px/10px; 
                            min-height: 2.7em; }

    </style>

</head>

<!-- initizalizes the web page, and auto updates -->
<body onload="page_initiate()" >

    <div id="main">
        
        <!-- :: pre.di.c :: Loudspeaker | advanced_controls_switch -->
        <div style="overflow-x:auto;">
        <table id="main_title" >
            <tr>
                <td id="main_lside"></td>
                <td id="main_rside">
                    <button id="advanced_switch" title="advanced controls" style="font-size:0.7em" onclick="advanced_toggle()">&#9881;</button>
                </td>
            </tr>
        </table>
        </div>


        <div>
            <table id="level_ampli_input">
            <tr>
                <!-- Amplifier swith -->
                <td id="OnOff" rowspan="2">
                    <select id="onoffSelector" onchange="ampli(this.value)">
                      <option value="on" >ON </option>
                      <option value="off">OFF</option>
                    </select>
                </td>

                <!-- Level display -->
                <td id="levelInfo" rowspan="2"></td>

                <!-- A little indicator if Loudness-->
                <td id="LoudnessInfo">&nbsp;</td>
                
                <!-- Inputs selector, will be filled by javascript -->
                <td id="input" rowspan="2">
                    <button id="url_button"     style="text-align:center;font-size:0.7em;display:none" onclick="play_url()">&#9901</button>
                    <select id="inputsSelector" onchange="predic_cmd('input ' + this.value, update=false)" ></select>
                </td>
            </tr>
            <tr>
                <!-- A little indicator if Mono-->
                <td id="MonoInfo">&nbsp;</td>
            </tr>
            </table>

        </div>

        <!-- ADVANCED CONTROLS CAN BE DISABLED-->

        <!-- bass     balance   -->
        <!-- treble   mono loud -->
        <!--  XO      DRC       -->
        <!--          PEQ       -->
        <div id="advanced_controls" align="center" style="display:none; font-size:0.75em;">
        <table>
            <tr>
                <td id="treble">
                    <button type="button"                 onmousedown="predic_cmd('treble -1 add')"  >-</button>
                    <span id="trebleInfo">treble</span>
                    <button type="button"                 onmousedown="predic_cmd('treble +1 add')"  >+</button>
                </td>
                <td id="balance">
                    <button type="button"                 onmousedown="predic_cmd('balance -1 add')"  >-</button>
                    <span id="balInfo">BAL</span>
                    <button type="button"                 onmousedown="predic_cmd('balance +1 add')"  >+</button>
                </td>
            </tr>
            <tr>
                <td id="bass">
                    <button type="button"                 onmousedown="predic_cmd('bass   -1 add')"  >-</button>
                    <span id="bassInfo">bass</span>
                    <button type="button"                 onmousedown="predic_cmd('bass   +1 add')"  >+</button>
                </td>
                <td id="mono_loud">
                    <button type="button" id="buttonMono" onmousedown="predic_cmd('mono toggle')"           >MONO</button>
                    <button type="button" id="buttonLoud" onmousedown="predic_cmd('loudness_track toggle')" >LOUD</button>
                </td>
            </tr>
        </table>
        <table id="eq_table">
            <tr>
                <td id="xo">
                    <span>XO:
                    <select id="xoSelector"     onchange="predic_cmd('xo ' + this.value, update=false)" ></select>
                    </span>
                </td>
                <td id="drc">
                    <span >DRC:
                    <select id="drcSelector"     onchange="predic_cmd('drc ' + this.value, update=false)" ></select>
                    </span>
                </td>
                <td id="peq">
                    <!-- a PEQ selector will be created if ecasound is used -->
                    <span id="span_peq" style="display:inline-block;">[peq]
                    </span>
                </td>
            </tr>
        </table>
        </div><!-- EOF ADVANCED CONTROLS -->

        <!-- Playing control -->
        <div id="player_control_buttons" align="center" display="inline">
            <button type="button" id="buttonPrevious" onmousedown="playerCtrl('previous')" >&lt;|           </button>
            <button type="button" id="buttonStop"     onmousedown="playerCtrl('stop')"     >&nbsp;[]&nbsp;  </button>
            <button type="button" id="buttonPause"    onmousedown="playerCtrl('pause')"    >&nbsp;||&nbsp;  </button>
            <button type="button" id="buttonPlay"     onmousedown="playerCtrl('play')"     >&nbsp;&gt;&nbsp;</button>
            <button type="button" id="buttonNext"     onmousedown="playerCtrl('next')"     >|&gt;           </button>
        </div>

        <!-- Playing info -->
        <div style="overflow-x:auto;">
            <table id="player_info" >
                <tr> <td id="bitrate"></td> <td id="artist"></td> <td id="time"> </td></tr>
                <tr> <td id="album" colspan="3">                              </td></tr>
                <tr> <td id="title" colspan="3">                               </td></tr>
            </table>
        </div>

        <!-- Level butttons -->
        <div id="level_buttons" align="center" >
            <button type="button" onmousedown="predic_cmd('level -3 add')"                >- 3</button>
            <button type="button" onmousedown="predic_cmd('level -1 add')"                >- 1</button>
            <button type="button" onmousedown="predic_cmd('mute toggle')" id="buttonMute" >  0</button>            
            <button type="button" onmousedown="predic_cmd('level +1 add')"                >+ 1</button>
            <button type="button" onmousedown="predic_cmd('level +3 add')"                >+ 3</button>
        </div>

        <!-- uncomment to test javascript functions with this button 
        <div align="right">
            <button type="button"                 onclick="filling_macro_buttons()" >PBA</button>
        </div>
        -->

    </div><!--main-->

    <!-- 9 buttons keypad for customizable user macros (if any found) -->
    <div id="macro_buttons" style="display:none">
        <table class="buttons_table">
          <tr>
            <td class="button_cell">
            <button class="button macro_buttons" type="button" id="macro_button_1" onmousedown="user_macro('1', this.innerText)" >-</button>
            </td>                                                                            
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_2" onmousedown="user_macro('2', this.innerText)" >-</button>
            </td>                                                                            
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_3" onmousedown="user_macro('3', this.innerText)" >-</button>
            </td>                                                                            
          </tr>                                                                              
          <tr>                                                                               
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_4" onmousedown="user_macro('4', this.innerText)" >-</button>
            </td>                                                                            
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_5" onmousedown="user_macro('5', this.innerText)" >-</button>
            </td>                                                                            
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_6" onmousedown="user_macro('6', this.innerText)" >-</button>
            </td>                                                                            
          </tr>                                                                              
          <tr>                                                                               
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_7" onmousedown="user_macro('7', this.innerText)" >-</button>
            </td>                                                                            
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_8" onmousedown="user_macro('8', this.innerText)" >-</button>
            </td>                                                                            
            <td class="button_cell">                                                         
            <button class="button macro_buttons" type="button" id="macro_button_9" onmousedown="user_macro('9', this.innerText)" >-</button>
            </td>
          </tr>
        </table>
    </div>

</body>
</html>
